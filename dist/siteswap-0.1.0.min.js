(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.Siteswap=e()}})(function(){var e,t,r;t={exports:r={}};"use strict";var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var i=function(){function e(e,t){var r=[];var n=true;var i=false;var a=undefined;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){i=true;a=e}finally{try{if(!n&&o["return"])o["return"]()}finally{if(i)throw a}}return r}return function(t,r){if(Array.isArray(t)){return t}else if(Symbol.iterator in Object(t)){return e(t,r)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var a=function e(t,r,n){if(t===null)t=Function.prototype;var i=Object.getOwnPropertyDescriptor(t,r);if(i===undefined){var a=Object.getPrototypeOf(t);if(a===null){return undefined}else{return e(a,r,n)}}else if("value"in i){return i.value}else{var o=i.get;if(o===undefined){return undefined}return o.call(n)}};var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();function s(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++){r[t]=e[t]}return r}else{return Array.from(e)}}function u(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function l(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function Toss(e,t,r){this.value=e;this.handFrom=t;this.handTo=r}var h=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;f(this,e);this.type=t;this.value=r};var c=function(){function e(){f(this,e)}o(e,[{key:"tokenise",value:function e(t,r){var n=[];var i=Object.keys(r);var a=t;while(a.length){if(!i.some(function(e){var t=a.match(r[e]);if(t){var i=t[0];n.push(new h(e,i));a=a.slice(i.length);return true}return false})){throw new Error("Unsupported character.")}}n.push(new h("end"));return n}}]);return e}();var v=function(e){l(t,e);function t(){f(this,t);var e=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.tokenTypes={"[":/^\[/,"]":/^\]/,"(":/^\(/,")":/^\)/,",":/^,/," ":/^ /,value:/^(?:(?:[1-9][0-9]+)|[0-9])/,hand:/^[a-zA-Z]+/};return e}o(t,[{key:"tokenise",value:function e(r){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"tokenise",this).call(this,r,this.tokenTypes)}}]);return t}(c);var p=function(e){l(t,e);function t(){f(this,t);var e=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.tokenTypes={legacy:{"[":/^\[/,"]":/^\]/,"(":/^\(/,")":/^\)/,",":/^,/," ":/^ /,cross:/^x/,value:/^(?:(?:[1-9][0-9]+)|[0-9]|[a-zA-Z])/,mirror:/^\*/},legacyCompressed:{"[":/^\[/,"]":/^\]/,"(":/^\(/,")":/^\)/,",":/^,/," ":/^ /,cross:/^x/,value:/^(?:[0-9]|[a-zA-Z])/,mirror:/^\*/}};return e}o(t,[{key:"numerify",value:function e(t){var r=/^[a-z]$/i;var n=/^[1-9][0-9]+$/;var i=t.some(function(e){return r.test(e.value)});var a=t.some(function(e){return n.test(e.value)});if(i&&a){throw new Error("Inconsistent use of letters and double digit throw values.")}if(i){var o={a:-"a".charCodeAt(0)+10,A:-"A".charCodeAt(0)+36};var s=true;var u=false;var l=undefined;try{for(var f=t[Symbol.iterator](),h;!(s=(h=f.next()).done);s=true){var c=h.value;if(/[a-z]/.test(c.value))c.value=c.value.charCodeAt(0)+o["a"];else if(/[A-Z]/.test(c.value))c.value=c.value.charCodeAt(0)+o["A"]}}catch(e){u=true;l=e}finally{try{if(!s&&f.return){f.return()}}finally{if(u){throw l}}}}}},{key:"separate",value:function e(t){var r=[];for(var n=0;n<t.length-1;n++){r.push(t[n]);if((t[n].type==="value"||t[n].type==="hand")&&t[n+1].type==="value")r.push(new h(",",","))}r.push(t[t.length-1]);return r}},{key:"halve",value:function e(t){var r=true;var n=false;var i=undefined;try{for(var a=t[Symbol.iterator](),o;!(r=(o=a.next()).done);r=true){var s=o.value;var u=parseInt(s.value);if(u%2===1)throw new Error("Legacy sync mode allows only odd throw values.");s.value=u/2}}catch(e){n=true;i=e}finally{try{if(!r&&a.return){a.return()}}finally{if(n){throw i}}}}},{key:"handify",value:function e(t,r){var n=[];for(var i=0;i<t.length;i++){if(t[i].type==="("&&i+1<t.length&&t[i+1].type==="value"){n.push(t[i++]);n.push(t[i++]);var a=void 0;if(t[i].type==="cross"){a=r[1]}else{a=r[0];i--}n.push(new h("hand",a));continue}if(t[i].type==="value"&&(i+1<t.length&&t[i+1].type===")"||i+2<t.length&&t[i+2].type===")")){n.push(t[i++]);var o=void 0;if(t[i].type==="cross"){o=r[0]}else{o=r[1];i--}n.push(new h("hand",o));n.push(t[++i]);continue}n.push(t[i])}return n}},{key:"tokenise",value:function e(r,n){var i=r.includes("(");var o=(i?/\([^)]*[, ].*\)/:/[, ]/).test(r);var s=this.tokenTypes[o?"legacy":"legacyCompressed"];var u=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"tokenise",this).call(this,r,s);var l=u.filter(function(e){return e.type==="value"});this.numerify(l);if(o)u=this.separate(u);if(i)this.halve(l);u=this.handify(u,n);return u}}]);return t}(c);var d=function(){function e(){f(this,e);this.state=null;this.tokens=null;this.legacyTokeniser=new p;this.genericTokeniser=new v}o(e,[{key:"upcoming",value:function e(t){var r=this;if(typeof t==="string")return this.tokens[this.tokens.length-1].type===t;return t.some(function(e){return r.tokens[r.tokens.length-1].type===e})}},{key:"expect",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"Unexpected token.";if(!this.upcoming(t))throw new Error(r);return this.tokens.pop().value}},{key:"set",value:function e(t,r,n){if(this.state[t]===undefined)this.state[t]=r;else if(this.state[t]!==r)throw new Error(n)}},{key:"autoset",value:function e(t,r,n){var i=true;var a=false;var o=undefined;try{for(var s=r[Symbol.iterator](),u;!(i=(u=s.next()).done);i=true){var l=u.value;if(this.upcoming(l)){this.set(t,l,n);return l}}}catch(e){a=true;o=e}finally{try{if(!i&&s.return){s.return()}}finally{if(a){throw o}}}this.set(t,null,'Expecting "'+this.state[t]+'", got "'+this.tokens[this.tokens.length-1].type+'".');return null}},{key:"parse",value:function e(t,r,n){this.state={};var i=t.trim().replace(/  +/g," ").replace(/ ?([[,]|[\],]) ?/g,"$1");if(i==="")throw new Error("No siteswap supplied.");var a=n?this.legacyTokeniser:this.genericTokeniser;this.tokens=a.tokenise(i,r).reverse();return this.siteswap(r)}},{key:"siteswap",value:function e(t){var r=[this.action(t)];var n=[","," "];var i=this.upcoming(n);while(!this.upcoming("end")){if(i){var a=this.autoset("actionSeparator",n,"Inconsistent use of action separators");this.expect(a)}r.push(this.action(t))}return r}},{key:"action",value:function e(t){if(t.length===1){this.autoset("actionBrackets","(","Inconsistent use of action brackets");return[this.release(t,t[0])]}this.expect("(");var e=[this.release(t,t[0])];var r=[","," "];var n=this.upcoming(r);for(var i=1;i<t.length;i++){if(n){var a=this.autoset("releaseSeparator",r,"Inconsistent use of release separators");this.expect(a)}e.push(this.release(t,t[i]))}this.expect(")");return e}},{key:"release",value:function e(t,r){var n=this.upcoming("[");if(!n){this.set("releaseBrackets",false,"Inconsistent use of release brackets.");return[this.toss(t,r)]}this.expect("[");var e=[this.toss(t,r)];var i=[","," "];var a=this.upcoming(i);while(!this.upcoming("]")){if(a){var o=this.autoset("tossSeparator",i,"Inconsistent use of toss separators");this.expect(o)}e.push(this.toss(t,r))}this.expect("]");if(e.length===1){this.set("releaseBrackets",true,"Inconsistent use of release brackets.")}return e}},{key:"toss",value:function e(t,r){var n=parseInt(this.expect("value"));var i=void 0;if(!this.upcoming("hand")){this.set("selfHand",true,"Same hand throws inconsistently denoted.");i=r}else{i=this.expect("hand");if(i===r)this.set("selfHand",false,"Same hand throws inconsistently denoted.")}if(n===0)return new Toss(0,null,null);return new Toss(n,t.indexOf(r),t.indexOf(i))}}]);return e}();var y=void 0;function g(e,t,r){if(!y)y=new d;return y.parse(e,t,r)}function w(e){return e.reduce(function(e,t){if(!e.includes(t))e.push(t);return e},[])}var m=/^[a-z]$/i;function b(e){if(!Array.isArray(e)||!e.length||!e.every(function(e){return typeof e==="string"&&m.test(e)})||w(e).length!==e.length)throw new Error("Invalid hand sequence.")}function k(e){if(!Array.isArray(e)||!e.length)throw new Error("Invalid throw sequence.");var t=true;var r=false;var n=undefined;try{for(var i=e[Symbol.iterator](),a;!(t=(a=i.next()).done);t=true){var o=a.value;if(!Array.isArray(o)||o.length!==e[0].length)throw new Error("Invalid throw sequence.");if(o.some(function(e){return!Array.isArray(e)||!e.every(function(e){return e instanceof Toss})}))throw new Error("Invalid throw sequence.")}}catch(e){r=true;n=e}finally{try{if(!t&&i.return){i.return()}}finally{if(r){throw n}}}}function x(e){for(var t=0,r=e.length;t<r;t++){e.push(e[t].map(function(e){return e.map(function(e){return new Toss(e.value,1-e.handFrom,1-e.handTo)})}).reverse())}}function S(e,t){if(t.length===1){return e.map(function(e){var t=e[0];var r=t.map(function(e){return e.value}).join(",");return t.length===1?r:"["+r+"]"}).join(",")}else{return e.map(function(e){return"("+e.map(function(e){var r=e.map(function(e){return e.value+(e.value===0?"":t[e.handTo])}).join(",");return e.length===1?r:"["+r+"]"}).join(",")+")"}).join("")}}var Juggle=function Juggle(e,t){f(this,Juggle);this.input=e;try{var r=void 0;var a=void 0;var o=false;if(typeof e==="string"){var u=e.split(":").reverse();var l=i(u,2);r=l[0];a=l[1];if(a)a=a.replace(" ","").split(",")}else if((typeof e==="undefined"?"undefined":n(e))==="object"&&e.siteswap){var h=[e.siteswap,e.hands];r=h[0];a=h[1]}else{throw new Error("Invalid input.")}if(t){if(!a){if(typeof r==="string")a=r.includes("(")?["l","r"]:["l"];else a=r[0].length===2?["l","r"]:["l"]}if(a.length>2){throw new Error("Legacy mode supports at most two hands.")}var c=/\* *$/;if(typeof r==="string"&&c.test(r)){r=r.replace(c,"");o=true}}this.validateHands(a);var v=typeof r==="string"?this.parse(r,a,t):r;this.validateThrows(v);if(o)this.mirrorThrows(v);var p=v.reduce(function(e,t){return Array.prototype.concat.apply(e,t.map(function(e){return e.map(function(e){return e.value})}))},[]);this.hands=a;this.throws=v;this.valid=true;this.degree=a.length;this.props=p.reduce(function(e,t){return e+t},0)/this.throws.length;this.multiplex=v.reduce(function(e,t){return Math.max.apply(null,[e].concat(s(t.map(function(e){return e.length}))))},0);this.greatestValue=Math.max.apply(null,p);this.string=this.stringify(this.throws,this.hands)}catch(e){this.valid=false;this.message=e.message}};Juggle.prototype.parse=g;Juggle.prototype.validateHands=b;Juggle.prototype.validateThrows=k;Juggle.prototype.mirrorThrows=x;Juggle.prototype.stringify=S;function T(e){var t=e.map(function(e){return e.map(function(e){return 0})});for(var r=0;r<e.length;r++){var n=e[r];var i=true;var a=false;var o=undefined;try{for(var s=n[Symbol.iterator](),u;!(i=(u=s.next()).done);i=true){var l=u.value;var f=true;var h=false;var c=undefined;try{for(var v=l[Symbol.iterator](),p;!(f=(p=v.next()).done);f=true){var d=p.value;t[r][d.handFrom]++;t[(r+d.value)%e.length][d.handTo]--}}catch(e){h=true;c=e}finally{try{if(!f&&v.return){v.return()}}finally{if(h){throw c}}}}}catch(e){a=true;o=e}finally{try{if(!i&&s.return){s.return()}}finally{if(a){throw o}}}}if(t.some(function(e){return e.some(function(e){return e!==0})}))throw new Error("Invalid siteswap.")}function E(e,t){if(e.length!==t.length)return false;for(var r=0;r<e.length;r++){var n=e[r];var i=t[r];if(n.length!==i.length)return false;for(var a=0;a<n.length;a++){var o=n[a];var s=i[a];if(o.length!==s.length)return false;for(var u=0;u<o.length;u++){var l=o[u];var f=s[u];if(l.value!==f.value||l.handFrom!==f.handFrom||l.handTo!==f.handTo)return false}}}return true}function j(e){for(var t=1,r=Math.floor(e.length/2);t<=r;t++){if(e.length%t===0){var n=e.slice(0,t);for(var i=t;i<e.length;i+=t){var a=e.slice(i,i+t);if(!E(n,a)){break}if(t+i===e.length){e.length=t;return e}}}}}function _(e){var t=[];if(this.strict){t.push.apply(t,s(this.schedule.map(function(e){return[].concat(s(e.slice(1).map(function(e){return e.slice()})),[[]])})))}else{t.push.apply(t,s(this.schedule.map(function(e){return[].concat(s(e.slice(1)),[0])})))}var r=true;var n=false;var i=undefined;try{for(var a=e[Symbol.iterator](),o;!(r=(o=a.next()).done);r=true){var u=o.value;for(var l=0;l<u.length;l++){var f=u[l];if(f.value>0){if(this.strict){var h=this.schedule[f.handFrom][0][l];t[f.handTo][f.value-1].push(h)}else{t[f.handTo][f.value-1]++}}}}}catch(e){n=true;i=e}finally{try{if(!r&&a.return){a.return()}}finally{if(n){throw i}}}return new State(t,this.strict)}function A(e){if(this.strict!==e.strict)return false;var t=this.schedule;var r=e.schedule;if(t.length!==r.length)return false;for(var n=0;n<t.length;n++){if(t[n].length!==r[n].length)return false;for(var i=0;i<t[n].length;i++){if(this.strict){if(t[n][i].length!==r[n][i].length)return false;for(var a=0;a<t[n][i].length;a++){if(t[n][i][a]!==r[n][i][a])return false}}else{if(t[n][i]!==r[n][i])return false}}}return true}function O(){var e=this.schedule;var t=void 0;if(this.strict){t=this.schedule.reduce(function(e,t){return e+t.reduce(function(e,t){return e+t.length},0)},0)}else{t=this.schedule.reduce(function(e,t){return e+t.reduce(function(e,t){return e+t},0)},0)}var r=this.schedule.length;var n=this.schedule[0].length;var i=Math.floor(t/r);var a=t%r;if(!this.strict){for(var o=0;o<r;o++){for(var s=0;s<i;s++){if(this.schedule[o][s]!==1)return true}var u=this.schedule[o][i]===1?1:0;for(var l=i+u;l<n;l++){if(this.schedule[o][l]!==0)return true}a-=u}}else{for(var f=0;f<r;f++){for(var h=0;h<i;h++){if(this.schedule[f][h].length!==1)return true}if(i===n)continue;var c=this.schedule[f][i].length===1?1:0;for(var v=i+c;v<n;v++){if(this.schedule[f][v].length!==0)return true}a-=c}}return a!==0}var State=function State(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;f(this,State);var r=void 0;if(e instanceof Array){r=e}else if(e instanceof Siteswap){r=[];var n=e;for(var i=0;i<n.degree;i++){var a=[];for(var o=0;o<n.greatestValue;o++){a.push(t?[]:0)}r.push(a)}var s=0;for(var u=-1;s<n.props;u--){var l=n.throws[(u%n.throws.length+n.throws.length)%n.throws.length];var h=true;var c=false;var v=undefined;try{for(var p=l[Symbol.iterator](),d;!(h=(d=p.next()).done);h=true){var y=d.value;var g=true;var w=false;var m=undefined;try{for(var b=y[Symbol.iterator](),k;!(g=(k=b.next()).done);g=true){var x=k.value;if(u+x.value>=0){if(t)r[x.handTo][u+x.value].push(s);else r[x.handTo][u+x.value]++;s++}}}catch(e){w=true;m=e}finally{try{if(!g&&b.return){b.return()}}finally{if(w){throw m}}}}}catch(e){c=true;v=e}finally{try{if(!h&&p.return){p.return()}}finally{if(c){throw v}}}}}else{throw new Error("Invalid input.")}this.schedule=r;this.strict=t;this.ground=!this.isExcited()};State.prototype.advance=_;State.prototype.equals=A;State.prototype.isExcited=O;function I(e,t){var r=[new State(this,t)];do{var n=true;var i=false;var a=undefined;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){var u=s.value;r.push(r[r.length-1].advance(u))}}catch(e){i=true;a=e}finally{try{if(!n&&o.return){o.return()}}finally{if(i){throw a}}}}while(!r[0].equals(r[r.length-1]));r.pop();return r}function P(e,t,r,n,i){var a=r[n][i];var o=true;var s=false;var u=undefined;try{for(var l=a[Symbol.iterator](),f;!(o=(f=l.next()).done);o=true){var h=f.value;if(h.value===0)continue;var c=(n+h.value)%r.length;if(t[c][h.handTo]===e)continue;t[c][h.handTo]=e;P(e,t,r,c,h.handTo)}}catch(e){s=true;u=e}finally{try{if(!o&&l.return){l.return()}}finally{if(s){throw u}}}}function q(e,t){var r=[];var n=e.map(function(e){return e.map(function(e){return null})});for(var i=0;i<e.length;i++){var a=e[i];for(var o=0;o<a.length;o++){var s=a[o];if(n[i][o]===null&&!(s.length===1&&s[0].value===0)){var u=[];P(u,n,e,i,o);r.push(u)}}}if(r.length===1)return[this];var l=function t(i){var a=e[i];var o=function e(t){t.push(a.map(function(e,r){return n[i][r]===t?e:[new Toss(0,null,null)]}))};var s=true;var u=false;var l=undefined;try{for(var f=r[Symbol.iterator](),h;!(s=(h=f.next()).done);s=true){var c=h.value;o(c)}}catch(e){u=true;l=e}finally{try{if(!s&&f.return){f.return()}}finally{if(u){throw l}}}};for(var f=0;f<e.length;f++){l(f)}return r.map(function(e){return new Siteswap({hands:t,siteswap:e})})}var Transition=function(e){l(Transition,e);function Transition(e,t,r){var n;var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;f(this,Transition);var a=u(this,(Transition.__proto__||Object.getPrototypeOf(Transition)).call(this,e,i));if(!a.valid)return n=a,u(a,n);a.stateFrom=t;a.stateTo=r;return a}return Transition}(Juggle);function F(e,t,r){var n=[];var i=0;for(var a=1;a<=e.length;a++){for(var o=a-1;o>=i;o--){if(e[a%e.length].equals(e[o])){if(o===0&&a===e.length){return[this]}if(o>i){n.push(new Transition({hands:r,siteswap:t.slice(i,o)},e[i],e[o]))}n.push(new Siteswap({hands:r,siteswap:t.slice(o,a)}));i=a;break}}}if(i!==e.length){n.push(new Transition({hands:r,siteswap:t.slice(i)}))}return n}function C(){return this.states.some(function(e){return e.ground})}function z(){var e=this;if(!this.valid){console.log("Invalid siteswap.");return}var t=[];t.push("siteswap\n "+this.string);t.push("props\n "+this.props);t.push("period\n "+this.period);t.push("hands\n "+this.degree);t.push("multiplex\n "+this.multiplex);t.push("full period\n "+this.fullPeriod);t.push("prime\n "+this.prime);t.push("ground state\n "+this.groundState);t.push("throw sequence");this.throws.forEach(function(r,n){return r.forEach(function(r,i){return t.push(" "+(n+1)+(e.degree===1?"":", hand "+e.hands[(n+i)%e.degree])+": ["+r.map(function(t){return t.value+(t.value===0||e.degree===1?"":e.hands[t.handTo])}).join(",")+"]")})});t.push("states");this.states.forEach(function(r,n){return r.schedule.forEach(function(r,i){return t.push(" "+(n+1)+(e.degree===1?"":", hand "+e.hands[i])+": ["+r.join(",")+"]")})});t.push("strict states");this.strictStates.forEach(function(r,n){return r.schedule.forEach(function(r,i){return t.push(" "+(n+1)+(e.degree===1?"":", hand "+e.hands[i])+": ["+r.map(function(e){return"["+(!e.length?"-":e.join(","))+"]"}).join(",")+"]")})});t.push("orbits");this.orbits.forEach(function(e,r){return t.push(" "+(r+1)+": "+e.string)});t.push("composition");this.composition.forEach(function(e,r){return t.push((e instanceof Siteswap?" siteswap: ":" transition: ")+e.string)});t.push(" ");console.log(t.join("\n"))}var Siteswap=function(e){l(Siteswap,e);function Siteswap(e){var t;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;f(this,Siteswap);var n=u(this,(Siteswap.__proto__||Object.getPrototypeOf(Siteswap)).call(this,e,r));if(!n.valid)return t=n,u(n,t);try{n.validate(n.throws,n.hands);n.valid=true}catch(e){var i;var a=Object.keys(n).filter(function(e){return e!=="input"});var o=true;var s=false;var l=undefined;try{for(var h=a[Symbol.iterator](),c;!(o=(c=h.next()).done);o=true){var v=c.value;delete n[v]}}catch(e){s=true;l=e}finally{try{if(!o&&h.return){h.return()}}finally{if(s){throw l}}}n.valid=false;n.message=e.message;return i=n,u(n,i)}n.truncate(n.throws);n.states=n.greatestValue===0?[]:n.schedulise(n.throws,false);n.strictStates=n.greatestValue===0?[]:n.schedulise(n.throws,true);n.orbits=n.orbitise(n.throws,n.hands);n.composition=n.decompose(n.states,n.throws,n.hands);n.period=n.states.length;n.fullPeriod=n.strictStates.length;n.prime=n.composition.length===1;n.groundState=n.excitify();return n}return Siteswap}(Juggle);Siteswap.prototype.validate=T;Siteswap.prototype.truncate=j;Siteswap.prototype.schedulise=I;Siteswap.prototype.excitify=C;Siteswap.prototype.orbitise=q;Siteswap.prototype.decompose=F;Siteswap.prototype.log=z;t.exports=Siteswap;return t.exports});
